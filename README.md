# Light In Abyss

#### pj-6, Veni Vedi Veci
----------

## **KOR**
---
### 목차  
[1.이 게임에 대하여](#about)<br/>
[2.스토리](#story)<br/>
[3.참여 인원](#player)<br/>
[4.핵심 기술](#tech)<br/>
[5.이 게임의 독창성](#creativity)<br/>
[6.이 게임에서 주목해야 할 점?](#remark)<br/>  
---
# about
### 1.이 게임에 대하여<br/>
  
Light In Abyss는, RGB라는 빛의 삼원색을 이용한 퍼즐 게임입니다.<br/>
간단히 설명하자면, 빨간색 셀로판지를 통해 보면, 빨간색 사물이 없는 것 처럼 보이는 현상을 이용한 게임입니다.<br/>
이 게임은, 화면의 색을 셀로판지를 통해 보는 듯이 변화시키며, 이를통해 같은 색의 타일을 없는 것 처럼 지나가는 게임입니다.<br/>
RGB와 이를 조합한 기본색의 색 스위치가 있으며, 상황에 맞게 이를 키며 도착지점까지 가면 되는 게임입니다.<br/>
  
---
# story
### 2.스토리
  
20XX년, 한 어둠의 세력이 빛읭 색을 모두 가두고, 독점해 사람들의 감정까지 메말라가는 피폐한 삶을 살고 있엇다.<br/>
이를 둘러싸고, 빛의 전쟁까지 벌어지게 되며 세상은 더욱 더 황폐화된다.<br/>
어둠의 세력은, 도시를 점거하고 세상을 지배하며 도시주변과 도시 중앙에 색을 이용하여 방해물을 놓는다.<br/>
당연히 일반인은 색을 잃어 접촉조차 불가능 하였다.<br/>
이런 상황속 대학원생 주인공 '라이트'는 드디어 반경 50m의 색을 복원하는 장치를 만들게 된다.<br/>
이를 통해 라이트는 점거당한 도시와 색을 되찾는 여정을 시작한다...<br/>
  
---
# player
### 3.참여인원<br/>
  
|이름|닉네임|역할|활동|
|:---:|:---:|:---:|:---|
|김동훈|Adel-Hart|조장|80% 아이디어 제공, 전체 프로토콜 및 로직 설계, 서버 개발.|
|기록현|None(깃허브 가입 X)|팀원|캐릭터 디자인, 타일 디자인, 맵 디자인|
|김정원|silverkjw|팀원|게임의 플레이 시스템 개발, 플레이 시스템 아이디어 제공, 서버 개발 참여, 버그 해결사, 맵디자인|
|이재용|Plana095|팀원|맵 디자인, 에디터 개발|

---
# tech
### 4.핵심 기술
#### 4-1 클라이언트 - 물리엔진
#### 4-2 클라이언트 - 인터페이스
#### 4-3 클라이언트 - 에디터
#### 4-4 서버
> 서버는 게임 서버에서 많이 쓰이는 TCP - UDP 병렬 사용을 활용한다
> TCP통신 프로토콜은, 안정성이 높지만 속도가 느리고, UDP 프로토콜은 이 반대인 점을 이용하여
> 인게임을 제외한, 서버와의 각종 통신은 TCP로 처리하고 (게임 중, 중요한 트리고 조차도!)
> 인게임에선, 패킷이 손실이 되어도 롤백등의 방법을 처리하면 되기 때문에, UDP를 사용하였다
>
> 서버 파일이 실행되면, UDP소켓이 스레드로 계속 돌아가며, TCP소켓이 메인 스레드에서 열려진다.
> 만약, TCP로 접속이 되면(서버가 accept하면), 접속한 연결을 인자값으로 전달하는 핸들러 스레드를 하나 열고
> 핸들러 스레드 하나당, 플레이어 한명에 지정한다,.
> 핸들러 스레드는, 각종 플레이어와 응답을 하며 요청을 처리한다.
> 이 중, 방은 클래스로 정의를 하는데, 방을 만들면 전역 변수에 방이름을 포함한 코드의 이름으로 전역변수가 저장된다.
> 따라서, 방 목록을 불러올 때는 전역변수의 목록을 불러와 필터링 하는 것이다.
> 방 클래스에서는 방 제거, 방 입장, 게임 시작 등 여러가지 핸들러 시스템이 따로 존재하며
> 방 클래스에서 딕셔너리로 "플레이어 이름" : "그 플레이어의 핸들러" 를 저장하여, 각각 메세지를 보낼땐, for문으로
> 방에 참가한 플레이어의 핸들러에 있는 메세지 전송 함수를 실행시키는 구조이다.
>
> 게임이 시작하기 전에, 통상적인 파이썬 udp서버에서는 서버가 클라이언트의 포트와 주소를 모르기에
> 메세지를 받을 때 같이오는 클라이언트의 주소로 echo 하는 시스템이지만,
> 우리는 지속적인 연결이 필요하기에, 게임 시작전 모든 플레이어가 udp통신을 보내고 그 주소값을 딕셔너리로 저장해
> 나중에, 각 플레이어에게 서버가 능동적으로 메세지를 보낼 수 있는 시스템을 구축하였다.
>
> 초반에  켜진 UDP스레드에서는 서버로 부터 오는 모든 udp통신을 방별로 분별하여 저장하고, 방클래스와 게임 클래스는 이를 읽어서
> 게임을 다룬다.
---
# creativity
### 5.이 게임의 독창성
---
# remark
### 6.이 게임에서 주목해야 할 점?

